<!doctype html>
<html lang="id">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Peminjaman Ruangan Psikologi UMS</title>
  <meta name="title" content="Peminjaman Ruangan Psikologi UMS" />
  <meta name="description"
    content="Layanan peminjaman ruangan Fakultas Psikologi UMS. Cek jadwal ruangan, ketersediaan, serta informasi akses ruangan secara cepat dan mudah di satu tempat." />
  <meta name="author" content="Donny Rizal" />
  <meta name="keywords" content="Ruangan, Peminjaman, Psikologi, Universitas Muhammadiyah Surakarta" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://donnyrizal.github.io/ruangan/" />

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://donnyrizal.github.io/ruangan/" />
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Peminjaman Ruangan Psikologi UMS" />
  <meta property="og:description"
    content="Layanan peminjaman ruangan Fakultas Psikologi UMS. Cek jadwal ruangan, ketersediaan, serta informasi akses ruangan secara cepat dan mudah di satu tempat." />
  <meta property="og:image"
    content="https://images.unsplash.com/photo-1541829070764-84a7d30dd3f3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNDA2MjZ8MHwxfHNlYXJjaHwxOHx8Y2xhc3Nyb29tfGVufDB8fHx8MTc2OTM5NTQ3NXww&ixlib=rb-4.1.0&q=80&w=1080" />

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta property="twitter:domain" content="donnyrizal.github.io" />
  <meta property="twitter:url" content="https://donnyrizal.github.io/ruangan/" />
  <meta name="twitter:title" content="Peminjaman Ruangan Psikologi UMS" />
  <meta name="twitter:description"
    content="Layanan peminjaman ruangan Fakultas Psikologi UMS. Cek jadwal ruangan, ketersediaan, serta informasi akses ruangan secara cepat dan mudah di satu tempat." />
  <meta name="twitter:image"
    content="https://images.unsplash.com/photo-1541829070764-84a7d30dd3f3?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wzNDA2MjZ8MHwxfHNlYXJjaHwxOHx8Y2xhc3Nyb29tfGVufDB8fHx8MTc2OTM5NTQ3NXww&ixlib=rb-4.1.0&q=80&w=1080" />

  <meta name="theme-color" content="#7f00ff" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="icon" type="image/png" href="https://ums.id/static/assets/image_ums/logo_ums_white.png" sizes="32x32" />
  <link rel="apple-touch-icon" href="https://ums.id/static/assets/image_ums/logo_ums_white.png" />
  <link href="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet" />

  <style>
    body {
      font-family: "Plus Jakarta Sans", sans-serif;
      background-color: #f3f4f6;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .custom-scroll::-webkit-scrollbar {
      height: 8px;
      width: 8px;
    }

    .custom-scroll::-webkit-scrollbar-track {
      background: transparent;
    }

    .custom-scroll::-webkit-scrollbar-thumb {
      background-color: #d1d5db;
      border-radius: 20px;
    }

    @keyframes popIn {
      0% {
        transform: scale(0.95);
        opacity: 0;
      }

      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .animate-pop {
      animation: popIn 0.2s ease-out forwards;
    }

    /* Datepicker Overrides */
    .datepicker-picker {
      background-color: white;
      border-radius: 1rem;
      border: 1px solid #e5e7eb;
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      padding: 1rem;
      font-family: "Plus Jakarta Sans", sans-serif;
    }

    .datepicker-cell.selected,
    .datepicker-cell.selected:hover {
      background-color: #4f46e5 !important;
      color: white;
    }

    .datepicker-cell.focused {
      background-color: #eef2ff;
    }

    .datepicker-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 2px;
    }

    body.modal-open .animate-pulse {
      animation: none !important;
      opacity: 1 !important;
      /* Keep it visible, just static */
    }
  </style>
</head>

<body class="flex h-screen overflow-hidden text-gray-800 relative">
  <!--Supposedly Sidebar Here -->
  <main class="flex-1 flex flex-col h-screen overflow-hidden relative w-full">
    <header class="h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 md:px-6 z-10 shrink-0">
      <div class="flex items-center gap-4">
        <button onclick="toggleSidebar()"
          class="md:hidden text-gray-500 hover:text-gray-700 focus:outline-none p-1 rounded-md active:bg-gray-100">
          <i class="ph-bold ph-list text-2xl"></i>
        </button>
        <h1 class="hidden md:block text-lg md:text-xl font-bold text-gray-800 truncate">
          Ketersediaan Ruangan
        </h1>
      </div>

      <div class="flex items-center gap-2 md:gap-4 flex-1 md:flex-none justify-end">
        <div class="relative w-full md:w-auto">
          <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none hidden md:flex">
            <i class="ph-bold ph-calendar text-gray-500 text-lg"></i>
          </div>
          <input type="text" id="dateFilter"
            class="bg-gray-50 border border-gray-300 text-gray-900 text-xs md:text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full md:pl-10 p-2 md:p-2.5 font-semibold placeholder-gray-400 text-center md:text-left"
            placeholder="Select date" readonly />
        </div>
        <button onclick="fetchData(true)"
          class="h-8 w-8 md:h-9 md:w-9 rounded-full bg-indigo-50 text-indigo-600 hover:bg-indigo-100 flex items-center justify-center transition-colors shrink-0"
          title="Refresh Data">
          <i class="ph-bold ph-arrows-clockwise text-lg"></i>
        </button>
      </div>
    </header>

    <div class="flex-1 flex flex-col overflow-hidden bg-[#F3F4F6] p-4 md:p-8">
      <div class="w-full max-w-7xl mx-auto h-full flex flex-col space-y-4 md:space-y-6">
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 shrink-0">
          <div
            class="bg-white p-4 md:p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between">
            <div>
              <p class="text-xs md:text-sm text-gray-500 font-medium">
                Total Peminjaman
              </p>
              <h3 class="text-xl md:text-2xl font-bold text-gray-800 mt-1" id="statTotal">
                --
              </h3>
            </div>
            <div class="h-8 w-8 md:h-10 md:w-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center">
              <i class="ph-fill ph-bookmark-simple text-lg md:text-xl"></i>
            </div>
          </div>
          <div
            class="bg-white p-4 md:p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between">
            <div>
              <p class="text-xs md:text-sm text-gray-500 font-medium">
                Ruangan yang Dipinjam
              </p>
              <h3 class="text-xl md:text-2xl font-bold text-gray-800 mt-1" id="statRooms">
                --
              </h3>
            </div>
            <div
              class="h-8 w-8 md:h-10 md:w-10 rounded-full bg-purple-50 text-purple-600 flex items-center justify-center">
              <i class="ph-fill ph-door text-lg md:text-xl"></i>
            </div>
          </div>
          <div
            class="bg-white p-4 md:p-5 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between">
            <div>
              <p class="text-xs md:text-sm text-gray-500 font-medium">
                Status
              </p>
              <h3 class="text-sm md:text-lg font-bold text-green-600 mt-1" id="lastUpdate">
                Initializing...
              </h3>
            </div>
            <div
              class="h-8 w-8 md:h-10 md:w-10 rounded-full bg-green-50 text-green-600 flex items-center justify-center">
              <i class="ph-fill ph-clock text-lg md:text-xl"></i>
            </div>
          </div>
        </div>
        <div
          class="bg-white rounded-2xl border border-gray-200 shadow-sm flex flex-col flex-1 min-h-0 relative overflow-hidden">
          <div id="loader"
            class="absolute inset-0 z-50 bg-white/90 backdrop-blur-sm flex flex-col items-center justify-center transition-opacity">
            <div class="animate-spin rounded-full h-10 w-10 border-4 border-indigo-600 border-t-transparent"></div>
            <p class="mt-3 text-sm font-semibold text-indigo-900">
              Syncing Data...
            </p>
          </div>
          <div class="flex-1 overflow-auto custom-scroll" id="gridContainer">
            <table class="w-full border-collapse">
              <thead class="sticky top-0 z-20">
                <tr id="headerRow" class="bg-gray-50 border-b border-gray-200 shadow-sm">
                  <th
                    class="p-4 text-left min-w-[80px] md:min-w-[100px] sticky left-0 bg-gray-50 z-30 text-xs font-bold text-gray-500 uppercase tracking-wider border-r border-gray-200">
                    Jam
                  </th>
                </tr>
              </thead>
              <tbody id="gridBody" class="bg-white divide-y divide-gray-100"></tbody>
            </table>
            <div id="emptyState" class="hidden flex flex-col items-center justify-center py-20">
              <div class="bg-gray-100 p-4 rounded-full mb-3">
                <i class="ph-duotone ph-calendar-slash text-2xl text-gray-400"></i>
              </div>
              <p class="text-gray-500 font-medium">
                Tidak ada peminjaman! üòÅ
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <div id="modal" class="fixed inset-0 z-50 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="fixed inset-0 bg-gray-900/30 backdrop-blur-sm transition-opacity" onclick="closeModal()"></div>
    <div class="fixed inset-0 z-10 overflow-y-auto">
      <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
        <div
          class="relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all sm:my-8 w-full max-w-sm md:max-w-lg mx-4">
          <div class="bg-indigo-600 px-4 py-6 sm:px-6">
            <h3 class="text-base font-semibold leading-6 text-white" id="modal-room-title">
              Ruangan
            </h3>
            <p class="text-indigo-100 text-sm mt-1" id="modal-time">
              10:00 - 12:00
            </p>
          </div>
          <div class="px-4 py-5 sm:p-6 space-y-4 max-h-[60vh] overflow-y-auto">
            <div>
              <label class="block text-xs font-bold text-gray-400 uppercase">Peminjam</label>
              <p class="text-gray-900 font-medium text-lg break-words" id="modal-user">
                Nama Peminjam
              </p>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div>
                <label class="block text-xs font-bold text-gray-400 uppercase">Unit/UKM/Dosen/Staff</label>
                <p class="text-gray-700 text-sm break-words" id="modal-org">
                  Nama Organisasi
                </p>
              </div>
              <div>
                <label class="block text-xs font-bold text-gray-400 uppercase">Status</label>
                <div>
                  <span
                    class="inline-flex items-center rounded-md bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/10">Confirmed</span>
                </div>
              </div>
            </div>
            <div>
              <label class="block text-xs font-bold text-gray-400 uppercase">Nama Kegiatan</label>
              <div
                class="mt-1 bg-gray-50 rounded-lg p-3 text-sm text-gray-600 italic border border-gray-100 break-words"
                id="modal-purpose">
                ...
              </div>
            </div>
            <div>
              <label class="block text-xs font-bold text-gray-400 uppercase">Lampiran</label>
              <div
                class="mt-1 bg-gray-50 rounded-lg p-3 text-sm text-gray-600 italic border border-gray-100 break-words"
                id="modal-lampiran">
                ...
              </div>
            </div>
          </div>
          <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
            <button type="button"
              class="mt-3 inline-flex w-full justify-center rounded-lg bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"
              onclick="closeModal()">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Peminjaman Ruangan Psikologi UMS",
      "description": "Portal resmi peminjaman ruangan Fakultas Psikologi UMS. Cek jadwal dan akses ruangan di sini.",
      "url": "https://donnyrizal.github.io/ruangan",
      "author": {
        "@type": "Person",
        "name": "Donny Rizal"
      },
      "publisher": {
        "@type": "EducationalOrganization",
        "name": "Universitas Muhammadiyah Surakarta",
        "logo": {
          "@type": "ImageObject",
          "url": "https://ums.id/static/assets/image_ums/logo_ums_white.png"
        }
      }
    }
  </script>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/flowbite@4.0.1/dist/flowbite.min.js"></script>
<script src="https://unpkg.com/@phosphor-icons/web"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
<script src="./sidebar.js"></script>
<script src="./script.js"></script>

</html>